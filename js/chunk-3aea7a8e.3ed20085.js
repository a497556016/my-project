(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3aea7a8e"],{"0890":function(t,e,n){"use strict";var i=n("c3d1"),o=n.n(i);o.a},"11e9":function(t,e,n){var i=n("52a7"),o=n("4630"),a=n("6821"),s=n("6a99"),r=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(r(t,e))return o(!i.f.call(t,e),t[e])}},4188:function(t,e,n){"use strict";var i=n("73f5"),o=n.n(i);o.a},"43d8":function(t,e,n){},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5d6b":function(t,e,n){var i=n("e53d").parseInt,o=n("a1ce").trim,a=n("e692"),s=/^[-+]?0[xX]/;t.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(t,e){var n=o(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},"5dbc":function(t,e,n){var i=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var a,s=e.constructor;return s!==n&&"function"==typeof s&&(a=s.prototype)!==n.prototype&&i(a)&&o&&o(t,a),t}},"73f5":function(t,e,n){},7445:function(t,e,n){var i=n("63b6"),o=n("5d6b");i(i.G+i.F*(parseInt!=o),{parseInt:o})},"8b97":function(t,e,n){var i=n("d3f4"),o=n("cb7c"),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},"8db7":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-form"},[n("div",{staticClass:"left-content"},[n("div",{staticClass:"title"},[t._v("表单控件")]),n("div",{staticClass:"form-items"},t._l(t.formItems,function(e){return n("div",{staticClass:"item",attrs:{"data-component":e.component,draggable:"true"},on:{dragstart:t.dragBegin,dragend:t.dragEnd}},[t._v("\n                "+t._s(e.name)+"\n            ")])}),0)]),n("div",{staticClass:"right-content"},[t._m(0),t._m(1),0==t.inputItems.length?n("div",{staticClass:"drag-content",on:{drop:t.dropHandler,dragover:t.allowDrop}},[t._v("\n            从左边控件选择控件拖动到该区域\n        ")]):t._l(t.inputItems,function(e,i){return n("div",{staticClass:"input-item",attrs:{"data-index":i},on:{drop:t.dropHandler,dragover:t.allowDrop,dragleave:t.dragLeaveHandler}},[n("question",{attrs:{seq:i+1,placeholder:e.name},model:{value:e.question,callback:function(n){t.$set(e,"question",n)},expression:"item.question"}}),n(e.component,{tag:"component",model:{value:e.meta,callback:function(n){t.$set(e,"meta",n)},expression:"item.meta"}}),n("a-divider"),n("item-footer",{attrs:{index:i},on:{copy:function(n){return t.inputItems.splice(i+1,0,e)},remove:function(e){return t.inputItems.splice(i,1)},move:function(e){return t.moveItem(i)}},model:{value:t.inputItems[i],callback:function(e){t.$set(t.inputItems,i,e)},expression:"inputItems[index]"}}),e.disabled?n("div",{staticClass:"disabled"}):t._e()],1)}),n("div",[n("a-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],2)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-item title"},[n("input",{attrs:{type:"text",placeholder:"请输入标题"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-item"},[n("input",{attrs:{type:"text",value:"感谢您能抽时间参与本次问卷，您的意见和建议就是我们前行的动力！"}})])}],a=n("e814"),s=n.n(a),r=(n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question"},[n("div",{staticClass:"label"},[t._v(t._s("问题"+t.seq)+"：")]),n("div",{staticClass:"input"},[n("input",{attrs:{placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}})])])}),c=[],l=(n("c5f6"),{name:"Question",props:{seq:Number,placeholder:String,value:String},model:{prop:"value",event:"change"},methods:{input:function(t){this.$emit("change",t.target.value)}}}),u=l,d=(n("f04b"),n("2877")),p=Object(d["a"])(u,r,c,!1,null,"abbfdb1c",null),f=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"radio"},[n("div",{staticClass:"edit-actions",style:{display:t.editActionsVisible?"inline-block":"none",left:t.editActionPosition.left+"px",top:t.editActionPosition.top+"px"}},[n("div",{staticClass:"action",on:{click:t.addInput}},[n("a-icon",{attrs:{type:"plus"}}),t._v(" 添加输入框")],1)]),n("item-actions",{attrs:{visible:!t.editActionsVisible&&t.itemActionsVisible,position:t.itemActionsPosition},on:{mouseleave:t.onMoveOut,handler:t.actionHandler}}),n("div",{staticClass:"options"},t._l(t.options,function(e,i){return n("div",{staticClass:"item",staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"30px",height:"36px","line-height":"36px"}},[n("input",{attrs:{type:"radio",name:"tt"+t.seq}})]),n("div",{staticStyle:{flex:"1"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"item.label"}],staticClass:"input",staticStyle:{float:"left"},attrs:{type:"text"},domProps:{value:e.label},on:{mouseover:function(e){return t.onMoveIn(e,i)},mouseleave:t.onMoveOut,click:function(e){return t.onInputClick(e,i)},input:function(n){n.target.composing||t.$set(e,"label",n.target.value)}}}),e.editable?n("input",{staticClass:"input more-input",attrs:{type:"text"}}):t._e()])])}),0),n("a-modal",{attrs:{title:"添加输入框"},on:{ok:function(e){t.addInputModalVisible=!1}},model:{value:t.addInputModalVisible,callback:function(e){t.addInputModalVisible=e},expression:"addInputModalVisible"}},[n("a-checkbox",{attrs:{checked:!t.index||t.options[t.index].editable},on:{change:t.addInputChange}},[t._v("是否添加一个输入框")])],1)],1)},h=[],v=(n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-actions",style:{display:t.visible?"block":"none",position:"absolute",left:t.position.left+"px",top:t.position.top+"px"},on:{mouseleave:t.onMoveOut}},[n("div",{staticClass:"action",on:{click:function(e){return t.handler("plus")}}},[n("a-icon",{attrs:{type:"plus"}})],1),n("div",{staticClass:"action",on:{click:function(e){return t.handler("up")}}},[n("a-icon",{attrs:{type:"arrow-up"}})],1),n("div",{staticClass:"action",on:{click:function(e){return t.handler("down")}}},[n("a-icon",{attrs:{type:"arrow-down"}})],1),n("div",{staticClass:"action",on:{click:function(e){return t.handler("delete")}}},[n("a-icon",{attrs:{type:"delete"}})],1)])}),g=[],b={name:"ItemActions",props:{visible:{type:Boolean,default:!1},position:{type:Object,default:{left:0,top:0}}},methods:{onMoveOut:function(t){this.$emit("mouseleave",t)},handler:function(t){this.$emit("handler",t)}}},I=b,y=(n("e050"),Object(d["a"])(I,v,g,!1,null,"952a88e4",null)),x=y.exports,_={name:"Radio",components:{ItemActions:x},props:{seq:Number,option:Object},model:{prop:"option",event:"change"},data:function(){return{radioStyle:{display:"block",height:"30px",lineHeight:"30px"},options:this.option.options,itemActionsVisible:!1,itemActionsPosition:{left:0,top:0},editActionsVisible:!1,editActionPosition:{left:0,top:0},addInputModalVisible:!1,target:null,index:null}},watch:{options:function(t){t.forEach(function(t,e){return t.value=e}),this.$emit("change",{options:t})}},methods:{onInputClick:function(t,e){this.target=t.target,this.index=e,this.editActionPosition={left:this.target.offsetLeft+this.target.offsetWidth-200,top:this.target.offsetTop-36},this.editActionsVisible=!0,this.itemActionsVisible=!1},addInput:function(){this.addInputModalVisible=!0},addInputChange:function(t){this.options[this.index].editable=t.target.checked},onMoveIn:function(t,e){this.target=t.target,this.index=e,this.itemActionsPosition={left:this.target.offsetLeft+this.target.offsetWidth-145,top:this.target.offsetTop-29},this.target.style.border="1px solid #ff4d4f",this.itemActionsVisible=!0},onMoveOut:function(t){t.toElement&&(t.toElement.classList.contains("item-actions")||t.toElement.classList.contains("action"))||(this.target.style.border="0",this.itemActionsVisible=!1,this.editActionsVisible=!1)},actionHandler:function(t){switch(t){default:break;case"plus":this.options.splice(this.index+1,0,{label:"选项"+this.options.length,editable:!1,value:this.options.length});break;case"up":var e=this.options.splice(this.index-1,1);this.options.splice(this.index,0,e[0]);break;case"down":var n=this.index+1;n==this.options.length&&(n=0);var i=this.options.splice(n,1);this.options.splice(this.index,0,i[0]);break;case"delete":this.options.splice(this.index,1);break}}}},E=_,C=(n("0890"),Object(d["a"])(E,m,h,!1,null,"5ef179cd",null)),k=C.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select"},[n("a-select",{style:{width:"100%"}},t._l(t.options,function(e){return n("a-select-option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)},N=[],w={name:"Select",components:{},props:{seq:Number,option:Object},model:{prop:"option",event:"change"},data:function(){return{options:this.option.options}},watch:{options:function(t){this.$emit("change",{options:t})}},methods:{}},O=w,T=Object(d["a"])(O,A,N,!1,null,"c6a68c00",null),$=T.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-footer"},[n("div",{staticClass:"action",on:{click:t.collect}},[n("a-icon",{attrs:{type:"star"}}),t._v(" 收藏\n    ")],1),n("div",{staticClass:"action",on:{click:t.copy}},[n("a-icon",{attrs:{type:"copy"}}),t._v(" 复制\n    ")],1),n("div",{staticClass:"action",on:{click:t.remove}},[n("a-icon",{attrs:{type:"delete"}}),t._v(" 删除\n    ")],1),n("div",{staticClass:"action",staticStyle:{cursor:"move"},attrs:{draggable:"true"},on:{dragstart:t.dragstart,drag:t.drag,dragend:t.dragend}},[n("a-icon",{attrs:{type:"plus-square"}}),t._v(" 移动\n    ")],1),n("div",{staticClass:"action",staticStyle:{"z-index":"2"},on:{click:t.toggleHide}},[n("a-icon",{attrs:{type:t.item.disabled?"eye":"eye-invisible"}}),t._v(" "+t._s(t.item.disabled?"显示":"隐藏")+"\n    ")],1),n("div",{staticClass:"action"},[n("a-icon",{attrs:{type:"setting"}}),t._v(" 设置\n    ")],1)])},M=[],V=(n("7f7f"),{name:"ItemFooter",props:{value:{type:Object},index:Number},model:{prop:"value",event:"change"},data:function(){return{dragMsgShow:!1,dragItem:null,item:this.value}},methods:{collect:function(){this.$message.error("哎呀呀，这个功能还没有开发呢~~")},copy:function(){this.$emit("copy")},remove:function(){var t=this;this.$confirm({title:"你确认要删除吗？",onOk:function(){t.$emit("remove")}})},dragstart:function(t){this.moveIcon=t.target.innerHTML,t.target.innerHTML="问题"+(this.index+1)+":"+this.item.name},drag:function(t){console.log(t),this.dragItem=t.path.find(function(t){return"input-item"==t.className}),this.dragItem&&(this.dragItem.style.display="none")},dragend:function(t){t.preventDefault(),console.log("moveend"),this.dragItem.style.display="block",this.dragItem=null,t.target.innerHTML=this.moveIcon,this.$emit("move")},toggleHide:function(){this.item.disabled=!this.item.disabled,this.$emit("change",this.item)}}}),P=V,H=(n("4188"),Object(d["a"])(P,S,M,!1,null,"1f2e7aad",null)),j=H.exports,q={name:"Create",components:{ItemFooter:j,Question:f,Radio:k,MSelect:$},data:function(){return{formItems:[{name:"单选题",component:"radio",question:"请选择以下一项",meta:{options:[{label:"选项",value:0,editable:!1},{label:"其他",value:1,editable:!0}]},disabled:!1},{name:"下拉选择题",component:"m-select",question:"你钟意哪一项啊？",meta:{options:[{label:"选项",value:0},{label:"其他",value:1}]},disabled:!1},{name:"多选题",component:"checkbox",meta:{},disabled:!1},{name:"填空题",component:"input",meta:{},disabled:!1},{name:"多项填空题",component:"multiInput",meta:{},disabled:!1},{name:"评分题",component:"rate",meta:{},disabled:!1},{name:"日期选择题",component:"date",meta:{},disabled:!1},{name:"城市选择题",component:"city",meta:{},disabled:!1},{name:"关联选择题",component:"cascade",meta:{},disabled:!1},{name:"描述说明",component:"description",meta:{},disabled:!1}],inputItems:[],dragItem:null,targetEl:null,onItemTop:!1}},methods:{dragBegin:function(t){console.log(t);var e=t.target.dataset.component;this.dragItem=this.formItems.find(function(t){return t.component==e})},dragEnd:function(t){this.dragItem=null},dropHandler:function(t){if(this.dragLeaveHandler(),console.log(this.dragItem),this.dragItem)if(0==this.inputItems.length)this.inputItems.push(this.dragItem);else{var e=this.targetEl.dataset.index;this.onItemTop||(e=s()(e)+1),this.inputItems.splice(e,0,this.dragItem)}},moveItem:function(t){var e=this.targetEl.dataset.index;console.log("移除：",t,e);var n=this.inputItems.splice(t,1)[0];t<e&&e--,this.onItemTop||(e=s()(e)+1),this.inputItems.splice(e,0,n)},allowDrop:function(t){t.preventDefault(),console.log(t),t.target.classList.contains("drag-content")||(this.targetEl=t.path.find(function(t){return"input-item"==t.className}),this.isTop(t)?(this.targetEl.style.borderTop="2px solid #ff0000",this.targetEl.style.borderBottom="0"):(this.targetEl.style.borderBottom="2px solid #ff0000",this.targetEl.style.borderTop="0"))},dragLeaveHandler:function(t){this.targetEl&&(this.targetEl.style.borderTop="0",this.targetEl.style.borderBottom="0")},isTop:function(t){var e=t.y,n=this.targetEl.offsetTop+this.targetEl.offsetParent.offsetTop-this.targetEl.offsetParent.scrollTop,i=this.targetEl.offsetHeight;return e-n<i/2?(this.onItemTop=!0,!0):(this.onItemTop=!1,!1)},save:function(){console.log(this.inputItems)}}},L=q,F=(n("a8b4"),Object(d["a"])(L,i,o,!1,null,"61fc545c",null));e["default"]=F.exports},9093:function(t,e,n){var i=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},a1ce:function(t,e,n){var i=n("63b6"),o=n("25eb"),a=n("294c"),s=n("e692"),r="["+s+"]",c="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),d=function(t,e,n){var o={},r=a(function(){return!!s[t]()||c[t]()!=c}),l=o[t]=r?e(p):s[t];n&&(o[n]=l),i(i.P+i.F*r,"String",o)},p=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},a8b4:function(t,e,n){"use strict";var i=n("b980"),o=n.n(i);o.a},aa77:function(t,e,n){var i=n("5ca1"),o=n("be13"),a=n("79e5"),s=n("fdef"),r="["+s+"]",c="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),d=function(t,e,n){var o={},r=a(function(){return!!s[t]()||c[t]()!=c}),l=o[t]=r?e(p):s[t];n&&(o[n]=l),i(i.P+i.F*r,"String",o)},p=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b072:function(t,e,n){},b980:function(t,e,n){},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},c3d1:function(t,e,n){},c5f6:function(t,e,n){"use strict";var i=n("7726"),o=n("69a8"),a=n("2d95"),s=n("5dbc"),r=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,p=n("aa77").trim,f="Number",m=i[f],h=m,v=m.prototype,g=a(n("2aeb")(v))==f,b="trim"in String.prototype,I=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var n,i,o,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>o)return NaN;return parseInt(c,i)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(g?c(function(){v.valueOf.call(n)}):a(n)!=f)?s(new h(I(e)),n,m):I(e)};for(var y,x=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)o(h,y=x[_])&&!o(m,y)&&d(m,y,u(h,y));m.prototype=v,v.constructor=m,n("2aba")(i,f,m)}},e050:function(t,e,n){"use strict";var i=n("43d8"),o=n.n(i);o.a},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},f04b:function(t,e,n){"use strict";var i=n("b072"),o=n.n(i);o.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-3aea7a8e.3ed20085.js.map