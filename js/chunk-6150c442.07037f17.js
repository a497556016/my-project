(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6150c442"],{"025f":function(t,e,n){},"0388":function(t,e,n){"use strict";var i=n("7ea2"),a=n.n(i);a.a},"0fb7":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate"},[n("a-rate",{attrs:{count:t.config.count,allowClear:t.config.allowClear,allowHalf:t.config.allowHalf},model:{value:t.config.value,callback:function(e){t.$set(t.config,"value",e)},expression:"config.value"}})],1)},a=[],o={name:"Rate",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}}},s=o,c=n("2877"),l=Object(c["a"])(s,i,a,!1,null,"820a4540",null);e["a"]=l.exports},"104f":function(t,e,n){"use strict";var i=n("025f"),a=n.n(i);a.a},"11e9":function(t,e,n){var i=n("52a7"),a=n("4630"),o=n("6821"),s=n("6a99"),c=n("69a8"),l=n("c69a"),r=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?r:function(t,e){if(t=o(t),e=s(e,!0),l)try{return r(t,e)}catch(n){}if(c(t,e))return a(!i.f.call(t,e),t[e])}},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"205e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input"},[n("a-input",{attrs:{placeholder:t.placeholder}})],1)},a=[],o={name:"Input",props:{config:Object},model:{prop:"config",event:"change"},data:function(){return{placeholder:this.config.placeholder}}},s=o,c=(n("ef8c"),n("2877")),l=Object(c["a"])(s,i,a,!1,null,"34fcdbbe",null);e["a"]=l.exports},"268f":function(t,e,n){t.exports=n("fde4")},"27c4":function(t,e,n){"use strict";var i=n("c28e"),a=n.n(i);a.a},"39b4":function(t,e,n){},"43d8":function(t,e,n){},"4ea7":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date-input"},[n("div",{staticClass:"start-date"},["month"==t.config.type?n("a-month-picker"):"week"==t.config.type?n("a-week-picker"):"time"==t.config.type?n("a-time-picker",{attrs:{format:"HH:mm:ss"}}):n("a-date-picker",{attrs:{format:t.formatter,showTime:t.config.showTime}})],1),t.config.range?n("div",{staticClass:"split"},[t._v("~")]):t._e(),t.config.range?n("div",{staticClass:"end-date"},["month"==t.config.type?n("a-month-picker"):"week"==t.config.type?n("a-week-picker"):"time"==t.config.type?n("a-time-picker",{attrs:{format:"HH:mm:ss"}}):n("a-date-picker",{attrs:{format:t.formatter,showTime:t.config.showTime}})],1):t._e()])},a=[],o={name:"Date",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},computed:{formatter:function(){return this.config.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}}},s=o,c=(n("0388"),n("2877")),l=Object(c["a"])(s,i,a,!1,null,"3fd44fa7",null);e["a"]=l.exports},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5d6b":function(t,e,n){var i=n("e53d").parseInt,a=n("a1ce").trim,o=n("e692"),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=a(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},"5dbc":function(t,e,n){var i=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&a&&a(t,o),t}},6443:function(t,e,n){"use strict";var i=n("db36"),a=n.n(i);a.a},"65ae":function(t,e,n){"use strict";var i=n("7b77"),a=n.n(i);a.a},6816:function(t,e,n){},"735c":function(t,e,n){},7445:function(t,e,n){var i=n("63b6"),a=n("5d6b");i(i.G+i.F*(parseInt!=a),{parseInt:a})},"75fc":function(t,e,n){"use strict";var i=n("a745"),a=n.n(i);function o(t){if(a()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var s=n("774e"),c=n.n(s),l=n("c8bb"),r=n.n(l);function u(t){if(r()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return o(t)||u(t)||d()}n.d(e,"a",function(){return p})},"774e":function(t,e,n){t.exports=n("d2d5")},"7b77":function(t,e,n){},"7ea2":function(t,e,n){},"82d6":function(t,e,n){"use strict";var i=n("d560"),a=n.n(i);a.a},"8b97":function(t,e,n){var i=n("d3f4"),a=n("cb7c"),o=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},"8db7":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-form"},[n("div",{staticClass:"left-content"},[n("div",{staticClass:"title"},[t._v("表单控件")]),n("div",{staticClass:"form-items"},t._l(t.formItems,function(e){return n("div",{staticClass:"item",attrs:{"data-component":e.component,draggable:"true"},on:{dragstart:t.dragBegin,dragend:t.dragEnd}},[t._v("\n                "+t._s(e.name)+"\n            ")])}),0)]),n("div",{staticClass:"right-content",style:{height:t.contentHeight}},[n("div",{staticClass:"input-item title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.formData.title},on:{input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value)}}})]),n("div",{staticClass:"input-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.desc,expression:"formData.desc"}],attrs:{type:"text",placeholder:""},domProps:{value:t.formData.desc},on:{input:function(e){e.target.composing||t.$set(t.formData,"desc",e.target.value)}}})]),0==t.inputItems.length?n("div",{staticClass:"drag-content",on:{drop:t.dropHandler,dragover:t.allowDrop}},[t._v("\n            从左边控件选择控件拖动到该区域\n        ")]):t._l(t.inputItems,function(e,i){return n("div",{key:i,class:["input-item",t.settingItem&&t.settingItem.index==i?"item-bordered":""],attrs:{"data-index":i},on:{drop:t.dropHandler,dragover:t.allowDrop,dragleave:t.dragLeaveHandler}},[n("question",{attrs:{seq:i+1,placeholder:e.name},model:{value:e.question,callback:function(n){t.$set(e,"question",n)},expression:"item.question"}}),n(e.component,{tag:"component",model:{value:e.meta,callback:function(n){t.$set(e,"meta",n)},expression:"item.meta"}}),n("a-divider"),n("item-footer",{attrs:{item:e,index:i},on:{copy:function(n){return t.inputItems.splice(i+1,0,e)},remove:function(e){return t.onRemove(i)},move:function(e){return t.moveItem(i)},setting:function(e){return t.configItem(i)},hide:function(n){return t.onHide(e)}}}),e.disabled?n("div",{staticClass:"disabled"}):t._e()],1)}),n("div",{staticClass:"input-item"},[n("a-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],2),t.settingItem?n("div",{staticClass:"setting-content"},[n("div",{staticClass:"title"},[t._v("问题内容设置")]),n(t.settingItem.component,{tag:"component",model:{value:t.settingItem.config,callback:function(e){t.$set(t.settingItem,"config",e)},expression:"settingItem.config"}})],1):t._e()])},a=[],o=(n("f559"),n("e814")),s=n.n(o),c=(n("7514"),n("cebc")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question"},[n("div",{staticClass:"label"},[t._v(t._s("问题"+t.seq)+"：")]),n("div",{staticClass:"input"},[n("input",{attrs:{placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.input}})])])},r=[],u=(n("c5f6"),{name:"Question",props:{seq:Number,placeholder:String,value:String},model:{prop:"value",event:"change"},methods:{input:function(t){this.$emit("change",t.target.value)}}}),d=u,p=(n("f04b"),n("2877")),f=Object(p["a"])(d,l,r,!1,null,"abbfdb1c",null),m=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"radio"},[n("div",{staticClass:"edit-actions",style:{display:t.editActionsVisible?"inline-block":"none",left:t.editActionPosition.left+"px",top:t.editActionPosition.top+"px"}},[n("div",{staticClass:"action",on:{click:t.addInput}},[n("a-icon",{attrs:{type:"plus"}}),t._v(" 添加输入框")],1)]),n("item-actions",{attrs:{visible:!t.editActionsVisible&&t.itemActionsVisible,position:t.itemActionsPosition},on:{mouseleave:t.onMoveOut,handler:t.actionHandler}}),n("div",{staticClass:"options"},t._l(t.options,function(e,i){return n("div",{staticClass:"item",staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"30px",height:"36px","line-height":"36px"}},[n("input",{attrs:{type:"radio",name:"tt"+t.seq}})]),n("div",{staticStyle:{flex:"1"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"item.label"}],staticClass:"input",staticStyle:{float:"left"},attrs:{type:"text"},domProps:{value:e.label},on:{mouseover:function(e){return t.onMoveIn(e,i)},mouseleave:t.onMoveOut,click:function(e){return t.onInputClick(e,i)},input:function(n){n.target.composing||t.$set(e,"label",n.target.value)}}}),e.inputable?n("input",{staticClass:"input more-input",attrs:{type:"text"}}):t._e()])])}),0),n("a-modal",{attrs:{title:"添加输入框"},on:{ok:function(e){t.addInputModalVisible=!1}},model:{value:t.addInputModalVisible,callback:function(e){t.addInputModalVisible=e},expression:"addInputModalVisible"}},[n("a-checkbox",{attrs:{checked:t.addInputChecked},on:{change:t.addInputChange}},[t._v("是否添加一个输入框")])],1)],1)},v=[],g=(n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-actions",style:{display:t.visible?"block":"none",position:"absolute",left:t.position.left+"px",top:t.position.top+"px"},on:{mouseleave:t.onMoveOut}},[n("div",{staticClass:"action",on:{click:function(e){return t.handler("plus")}}},[n("a-icon",{attrs:{type:"plus"}})],1),n("div",{staticClass:"action",on:{click:function(e){return t.handler("up")}}},[n("a-icon",{attrs:{type:"arrow-up"}})],1),n("div",{staticClass:"action",on:{click:function(e){return t.handler("down")}}},[n("a-icon",{attrs:{type:"arrow-down"}})],1),n("div",{staticClass:"action",on:{click:function(e){return t.handler("delete")}}},[n("a-icon",{attrs:{type:"delete"}})],1)])}),b=[],x={name:"ItemActions",props:{visible:{type:Boolean,default:!1},position:{type:Object,default:{left:0,top:0}}},methods:{onMoveOut:function(t){this.$emit("mouseleave",t)},handler:function(t){this.$emit("handler",t)}}},y=x,I=(n("e050"),Object(p["a"])(y,g,b,!1,null,"952a88e4",null)),k=I.exports,O={name:"Radio",components:{ItemActions:k},props:{seq:Number,option:Object},model:{prop:"option",event:"change"},data:function(){return{radioStyle:{display:"block",height:"30px",lineHeight:"30px"},options:this.option.options,itemActionsVisible:!1,itemActionsPosition:{left:0,top:0},editActionsVisible:!1,editActionPosition:{left:0,top:0},addInputModalVisible:!1,target:null,index:null}},computed:{addInputChecked:function(){return null!==this.index&&void 0!==this.index&&this.options[this.index].inputable}},watch:{options:function(t){t.forEach(function(t,e){return t.value=e}),this.$emit("change",{options:t})}},methods:{onInputClick:function(t,e){this.target=t.target,this.index=e,console.log(this.index,this.options),this.editActionPosition={left:this.target.offsetLeft,top:this.target.offsetTop-36},this.editActionsVisible=!0,this.itemActionsVisible=!1},addInput:function(){this.addInputModalVisible=!0},addInputChange:function(t){this.options[this.index].inputable=t.target.checked},onMoveIn:function(t,e){this.target=t.target,this.index=e,this.itemActionsPosition={left:this.target.offsetLeft,top:this.target.offsetTop-29},this.target.style.border="1px solid #ff4d4f",this.itemActionsVisible=!0},onMoveOut:function(t){t.toElement&&(t.toElement.classList.contains("item-actions")||t.toElement.classList.contains("action"))||(this.target.style.border="0",this.itemActionsVisible=!1,this.editActionsVisible=!1)},actionHandler:function(t){switch(t){default:break;case"plus":this.options.splice(this.index+1,0,{label:"选项"+this.options.length,inputable:!1,value:this.options.length});break;case"up":var e=this.options.splice(this.index-1,1);this.options.splice(this.index,0,e[0]);break;case"down":var n=this.index+1;n==this.options.length&&(n=0);var i=this.options.splice(n,1);this.options.splice(this.index,0,i[0]);break;case"delete":this.options.splice(this.index,1);break}}}},w=O,C=(n("f081"),Object(p["a"])(w,h,v,!1,null,"06c2a6be",null)),$=C.exports,E=n("ebfb"),M=n("d166"),j=n("205e"),N=n("0fb7"),A=n("4ea7"),T=n("e591"),D=n("8f14"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-footer"},[n("div",{staticClass:"action",on:{click:t.collect}},[n("a-icon",{attrs:{type:"star"}}),t._v(" 收藏\n    ")],1),n("div",{staticClass:"action",on:{click:t.copy}},[n("a-icon",{attrs:{type:"copy"}}),t._v(" 复制\n    ")],1),n("div",{staticClass:"action",on:{click:t.remove}},[n("a-icon",{attrs:{type:"delete"}}),t._v(" 删除\n    ")],1),n("div",{staticClass:"action",staticStyle:{cursor:"move"},attrs:{draggable:"true"},on:{dragstart:t.dragstart,drag:t.drag,dragend:t.dragend}},[n("a-icon",{attrs:{type:"plus-square"}}),t._v(" 移动\n    ")],1),n("div",{staticClass:"action",staticStyle:{"z-index":"2"},on:{click:t.toggleHide}},[n("a-icon",{attrs:{type:t.item.disabled?"eye":"eye-invisible"}}),t._v(" "+t._s(t.item.disabled?"显示":"隐藏")+"\n    ")],1),n("div",{staticClass:"action",on:{click:t.setting}},[n("a-icon",{attrs:{type:"setting"}}),t._v(" 设置\n    ")],1)])},H=[],P=(n("7f7f"),{name:"ItemFooter",props:{item:{type:Object},index:Number},data:function(){return{dragMsgShow:!1,dragItem:null,disabled:this.item.disabled}},methods:{collect:function(){this.$message.error("哎呀呀，这个功能还没有开发呢~~")},copy:function(){this.$emit("copy")},remove:function(){var t=this;this.$confirm({title:"你确认要删除吗？",onOk:function(){t.$emit("remove")}})},dragstart:function(t){this.moveIcon=t.target.innerHTML,t.target.innerHTML="问题"+(this.index+1)+":"+this.item.name},drag:function(t){console.log(t),this.dragItem=t.path.find(function(t){return t.className.startsWith("input-item")}),this.dragItem&&(this.dragItem.style.display="none")},dragend:function(t){t.preventDefault(),console.log("moveend"),this.dragItem.style.display="block",this.dragItem=null,t.target.innerHTML=this.moveIcon,this.$emit("move")},toggleHide:function(){this.disabled=!this.disabled,this.$emit("hide")},setting:function(){this.$emit("setting")}}}),L=P,V=(n("6443"),Object(p["a"])(L,S,H,!1,null,"2338061f",null)),F=V.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-setting"},[n("a-button",{on:{click:t.addItem}},[t._v("添加一行")]),n("div",{staticClass:"grid"},[n("a-row",[n("a-col",{attrs:{span:18}},[t._v("文本")]),n("a-col",{attrs:{span:6}},[t._v("值")])],1),t._l(t.config.options,function(e){return n("a-row",{style:{marginTop:"5px"}},[n("a-col",{attrs:{span:18}},[n("a-input",{model:{value:e.label,callback:function(n){t.$set(e,"label",n)},expression:"option.label"}})],1),n("a-col",{attrs:{span:6}},[n("a-input",{model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"option.value"}})],1)],1)})],2)],1)},R=[],B={name:"Select",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},methods:{addItem:function(){var t=_.maxBy(this.config.options,"value").value+1;this.config.options.push({label:"新的选项",value:t}),this.$emit("change",this.config)}}},K=B,Y=(n("65ae"),Object(p["a"])(K,q,R,!1,null,"31dca924",null)),G=Y.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-setting"},[n("a-button",{on:{click:t.addItem}},[t._v("添加一行")]),n("div",{staticClass:"grid"},[n("a-row",[n("a-col",{attrs:{span:18}},[t._v("文本")]),n("a-col",{attrs:{span:6}},[t._v("值")])],1),t._l(t.config.options,function(e){return n("a-row",{style:{marginTop:"5px"}},[n("a-col",{attrs:{span:18}},[n("a-input",{model:{value:e.label,callback:function(n){t.$set(e,"label",n)},expression:"option.label"}})],1),n("a-col",{attrs:{span:6}},[n("a-input",{model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"option.value"}})],1)],1)})],2),n("div",[t._v("\n        限制选择数量(0表示不限制)\n        "),n("a-input-number",{attrs:{min:0,max:t.config.options.length},model:{value:t.config.maxNum,callback:function(e){t.$set(t.config,"maxNum",e)},expression:"config.maxNum"}})],1)],1)},J=[],Q={name:"Checkbox",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},methods:{addItem:function(){var t=_.maxBy(this.config.options,"value").value+1;this.config.options.push({label:"新的选项",value:t}),this.$emit("change",this.config)}}},U=Q,W=(n("82d6"),Object(p["a"])(U,X,J,!1,null,"c26263d8",null)),z=W.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate-setting"},[n("a-form",[n("a-form-item",{attrs:{label:"默认值"}},[n("a-input",{model:{value:t.config.value,callback:function(e){t.$set(t.config,"value",e)},expression:"config.value"}})],1),n("a-form-item",{attrs:{label:"星星个数"}},[n("a-input",{model:{value:t.config.count,callback:function(e){t.$set(t.config,"count",e)},expression:"config.count"}})],1),n("a-form-item",{attrs:{label:"允许点击时清除"}},[n("a-switch",{model:{value:t.config.allowClear,callback:function(e){t.$set(t.config,"allowClear",e)},expression:"config.allowClear"}})],1),n("a-form-item",{attrs:{label:"允许半选"}},[n("a-switch",{model:{value:t.config.allowHalf,callback:function(e){t.$set(t.config,"allowHalf",e)},expression:"config.allowHalf"}})],1)],1)],1)},tt=[],et={name:"Rate",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}}},nt=et,it=Object(p["a"])(nt,Z,tt,!1,null,"6bf3d397",null),at=it.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date-setting"},[n("a-form",[n("a-form-item",{attrs:{label:"日期类型"}},[n("a-select",{model:{value:t.config.type,callback:function(e){t.$set(t.config,"type",e)},expression:"config.type"}},t._l(t.dateTypes,function(e){return n("a-select-option",{attrs:{value:e[1]}},[t._v(t._s(e[0]))])}),1)],1),"date"==t.config.type?n("a-form-item",{attrs:{label:"是否可选时间"}},[n("a-switch",{model:{value:t.config.showTime,callback:function(e){t.$set(t.config,"showTime",e)},expression:"config.showTime"}})],1):t._e(),n("a-form-item",{attrs:{label:"区间日期"}},[n("a-switch",{model:{value:t.config.range,callback:function(e){t.$set(t.config,"range",e)},expression:"config.range"}})],1)],1)],1)},st=[],ct={name:"Date",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value,dateTypes:[["日期","date"],["月份","month"],["周","week"],["时间","time"]]}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}}},lt=ct,rt=Object(p["a"])(lt,ot,st,!1,null,"c4377ea6",null),ut=rt.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea-setting"},[n("a-form",[n("a-form-item",{attrs:{label:"提示语"}},[n("a-input",{model:{value:t.config.placeholder,callback:function(e){t.$set(t.config,"placeholder",e)},expression:"config.placeholder"}})],1),n("a-form-item",{attrs:{label:"限制字数"}},[n("a-input",{model:{value:t.config.max,callback:function(e){t.$set(t.config,"max",e)},expression:"config.max"}})],1)],1)],1)},pt=[],ft=n("322e"),mt={name:"Textarea",components:{AFormItem:ft["a"]},props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}}},ht=mt,vt=Object(p["a"])(ht,dt,pt,!1,null,"38965d90",null),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cascade-setting"},[n("a-button-group",[n("a-button",{on:{click:function(e){t.addOption={},t.addModal=!0}}},[t._v("添加子节点")]),n("a-button",{attrs:{type:"primary"},on:{click:t.editNode}},[t._v("编辑")]),n("a-button",{attrs:{type:"danger"},on:{click:t.removeNode}},[t._v("删除")])],1),n("a-form",[n("a-form-item",{attrs:{label:"级联选择数据"}},[n("a-tree",{attrs:{autoExpandParent:"",showLine:"",draggable:"",treeData:t.treeData},on:{drop:t.onDrop,select:t.onSelect}})],1)],1),n("a-modal",{attrs:{title:"编辑节点"},on:{ok:t.onEdit},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[n("a-form",[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{model:{value:t.selectedOption.label,callback:function(e){t.$set(t.selectedOption,"label",e)},expression:"selectedOption.label"}})],1),n("a-form-item",{attrs:{label:"值"}},[n("a-input",{attrs:{readonly:""},model:{value:t.selectedOption.value,callback:function(e){t.$set(t.selectedOption,"value",e)},expression:"selectedOption.value"}})],1)],1)],1),n("a-modal",{attrs:{title:"添加节点"},on:{ok:t.addChildNode},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[n("a-input",{model:{value:t.addOption.label,callback:function(e){t.$set(t.addOption,"label",e)},expression:"addOption.label"}})],1)],1)},xt=[],yt=n("75fc"),It=(n("28a5"),{name:"Cascade",components:{AFormItem:ft["a"]},props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value,selectedNode:null,selectedOption:{},selectedIndex:null,selectedArr:null,editModal:!1,addModal:!1,addOption:{}}},computed:{treeData:function(){return this.convertData(this.config.options)}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}},methods:{convertData:function(t){var e=this;return t.map(function(t){var n={title:t.label,key:t.value,slots:{}};return t.children&&(n.children=e.convertData(t.children)),n})},onSelect:function(t,e){var n=this;console.log(t,e),this.selectedNode=e.node,this.findByKey(this.config.options,this.selectedNode.eventKey,function(t,e,i){n.selectedOption=t,n.selectedIndex=e,n.selectedArr=i})},addChildNode:function(){if(this.addOption.label)if(this.addModal=!1,this.selectedNode){this.selectedOption.children=this.selectedOption.children||[];var t=(_.max(this.selectedOption.children.map(function(t){var e=t.value.split("-");return s()(e[e.length-1])}))||0)+1;this.addOption.value=this.selectedOption.value+"-"+t,this.selectedOption.children.push(_.cloneDeep(this.addOption)),this.config.options=Object(yt["a"])(this.config.options)}else{var e=(_.max(this.config.options.map(function(t){var e=t.value.split("-");return s()(e[e.length-1])}))||0)+1;this.addOption.value=""+e,this.config.options.push(_.cloneDeep(this.addOption))}},editNode:function(){this.selectedNode?this.editModal=!0:this.$message.warning("请选择一个节点！")},onEdit:function(){this.config.options=Object(yt["a"])(this.config.options),this.editModal=!1},removeNode:function(){this.selectedNode?(this.selectedArr.splice(this.selectedIndex,1),this.config.options=Object(yt["a"])(this.config.options),this.selectedNode=null):this.$message.warning("请选择一个节点！")},findByKey:function(t,e,n){var i=this;t.forEach(function(t,a,o){return t.value===e?n(t,a,o):t.children?i.findByKey(t.children,e,n):void 0})},onDrop:function(t){console.log(t);var e,n=t.node.eventKey,i=t.dragNode.eventKey,a=t.node.pos.split("-"),o=t.dropPosition-Number(a[a.length-1]),s=Object(yt["a"])(this.config.options);if(this.findByKey(s,i,function(t,n,i){i.splice(n,1),e=t}),t.dropToGap)if((t.node.children||[]).length>0&&t.node.expanded&&1===o)this.findByKey(s,n,function(t){t.children=t.children||[],t.children.unshift(e)});else{var c,l;this.findByKey(s,n,function(t,e,n){c=n,l=e}),-1===o?c.splice(l,0,e):c.splice(l+1,0,e)}else this.findByKey(s,n,function(t){t.children=t.children||[],t.children.push(e)});this.config.options=s,console.log(this.config.options)}}}),_t=It,kt=Object(p["a"])(_t,bt,xt,!1,null,"329d3d9e",null),Ot=kt.exports,wt=n("6e87"),Ct=n("2f62"),$t="感谢您能抽时间参与本次问卷，您的意见和建议就是我们前行的动力！",Et={name:"Create",components:{ItemFooter:F,Question:m,MRadio:$,MSelect:E["a"],MCheckbox:M["a"],MInput:j["a"],MRate:N["a"],MDate:A["a"],MTextarea:T["a"],MCascade:D["a"],MSelectSetting:G,MCheckboxSetting:z,MRateSetting:at,MDateSetting:ut,MTextareaSetting:gt,MCascadeSetting:Ot},data:function(){return{formData:{desc:$t},formItems:[{name:"单选题",component:"m-radio",question:"请选择以下一项",meta:{options:[{label:"选项",value:0,inputable:!1},{label:"其他",value:1,inputable:!0}]},disabled:!1},{name:"下拉选择题",component:"m-select",question:"你钟意哪一项啊？",meta:{options:[{label:"选项",value:0},{label:"其他",value:1}]},disabled:!1},{name:"多选题",component:"m-checkbox",meta:{options:[{label:"选项1",value:0},{label:"选项2",value:1},{label:"选项3",value:2},{label:"其他",value:3}],maxNum:0},disabled:!1},{name:"填空题",component:"m-input",meta:{placeholder:"请输入你的答案"},disabled:!1},{name:"评分题",component:"m-rate",meta:{value:0,count:10,allowClear:!1,allowHalf:!1},disabled:!1},{name:"日期选择题",component:"m-date",meta:{showTime:!1,type:"time",range:!1},disabled:!1},{name:"城市选择题",component:"m-city",meta:{},disabled:!1},{name:"关联选择题",component:"m-cascade",meta:{placeholder:"请选择",options:[{label:"选项一",value:"1"},{label:"选项二",value:"2",children:[{label:"选项二子选项",value:"2-1"}]}]},disabled:!1},{name:"描述说明",component:"m-textarea",meta:{placeholder:"请在此填写说明文字",max:100},disabled:!1}],inputItems:[],dragItem:null,targetEl:null,settingItem:null,onItemTop:!1}},computed:{contentHeight:function(){return window.innerHeight-220+"px"}},methods:Object(c["a"])({},Object(Ct["b"])({saveForm:wt["e"].SAVE_FORM}),{dragBegin:function(t){var e=t.target.dataset.component,n=this.formItems.find(function(t){return t.component==e});this.dragItem=_.cloneDeep(n)},dragEnd:function(t){this.dragItem=null},dropHandler:function(t){if(this.dragLeaveHandler(),console.log(this.dragItem),this.dragItem){var e=0;0==this.inputItems.length?this.inputItems.push(this.dragItem):(e=this.targetEl.dataset.index,this.onItemTop||(e=s()(e)+1),console.log(e),this.inputItems.splice(e,0,this.dragItem)),this.settingItem={index:e,component:this.dragItem.component+"-setting",config:this.dragItem.meta}}},moveItem:function(t){var e=this.targetEl.dataset.index;console.log("移除：",t,e);var n=this.inputItems.splice(t,1)[0];t<e&&e--,this.onItemTop||(e=s()(e)+1),this.inputItems.splice(e,0,n)},allowDrop:function(t){t.preventDefault(),console.log(t),t.target.classList.contains("drag-content")||(this.targetEl=t.path.find(function(t){return t.className.startsWith("input-item")}),this.isTop(t)?(this.targetEl.classList.add("move-in-top"),this.targetEl.classList.remove("move-in-bottom")):(this.targetEl.classList.remove("move-in-top"),this.targetEl.classList.add("move-in-bottom")))},dragLeaveHandler:function(t){this.targetEl&&(this.targetEl.classList.remove("move-in-top"),this.targetEl.classList.remove("move-in-bottom"))},isTop:function(t){var e=t.y,n=this.targetEl.offsetTop+this.targetEl.offsetParent.offsetTop-this.targetEl.parentElement.scrollTop-this.targetEl.offsetParent.scrollTop,i=this.targetEl.offsetHeight;return e-n<i/2?(this.onItemTop=!0,!0):(this.onItemTop=!1,!1)},configItem:function(t){var e=this.inputItems[t];this.settingItem={index:t,component:e.component+"-setting",config:e.meta}},onHide:function(t){t.disabled=!t.disabled},onRemove:function(t){this.inputItems.splice(t,1),this.settingItem.index==t&&(this.settingItem=void 0)},save:function(){var t=this;if(console.log(this.inputItems),this.formData.title)if(0!=this.inputItems.length){var e=this.inputItems.find(function(t){return!t.question});e?this.$error({content:"必须输入问题描述！"}):(this.formData.formItems=this.inputItems,this.saveForm(this.formData).then(function(e){1==e.code&&(t.$message.success("保存成功！"),t.reset())}))}else this.$error({content:"没有表单元素！"});else this.$message.error("请输入表单标题！")},reset:function(){this.formData={desc:$t},this.inputItems=[],this.settingItem=null}})},Mt=Et,jt=(n("27c4"),Object(p["a"])(Mt,i,a,!1,null,"44677867",null));e["default"]=jt.exports},"8f14":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cascade-input"},[n("a-cascader",{attrs:{placeholder:t.config.placeholder,options:t.config.options}})],1)},a=[],o={name:"Cascade",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}}},s=o,c=n("2877"),l=Object(c["a"])(s,i,a,!1,null,"475a2f90",null);e["a"]=l.exports},9093:function(t,e,n){var i=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},a1ce:function(t,e,n){var i=n("63b6"),a=n("25eb"),o=n("294c"),s=n("e692"),c="["+s+"]",l="​",r=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,n){var a={},c=o(function(){return!!s[t]()||l[t]()!=l}),r=a[t]=c?e(p):s[t];n&&(a[n]=r),i(i.P+i.F*c,"String",a)},p=d.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(r,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},a4bb:function(t,e,n){t.exports=n("8aae")},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var i=n("5ca1"),a=n("be13"),o=n("79e5"),s=n("fdef"),c="["+s+"]",l="​",r=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,n){var a={},c=o(function(){return!!s[t]()||l[t]()!=l}),r=a[t]=c?e(p):s[t];n&&(a[n]=r),i(i.P+i.F*c,"String",a)},p=d.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(r,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b072:function(t,e,n){},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},bf90:function(t,e,n){var i=n("36c3"),a=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return a(i(t),e)}})},c28e:function(t,e,n){},c5f6:function(t,e,n){"use strict";var i=n("7726"),a=n("69a8"),o=n("2d95"),s=n("5dbc"),c=n("6a99"),l=n("79e5"),r=n("9093").f,u=n("11e9").f,d=n("86cc").f,p=n("aa77").trim,f="Number",m=i[f],h=m,v=m.prototype,g=o(n("2aeb")(v))==f,b="trim"in String.prototype,x=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var n,i,a,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(var s,l=e.slice(2),r=0,u=l.length;r<u;r++)if(s=l.charCodeAt(r),s<48||s>a)return NaN;return parseInt(l,i)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(g?l(function(){v.valueOf.call(n)}):o(n)!=f)?s(new h(x(e)),n,m):x(e)};for(var y,I=n("9e1e")?r(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;I.length>_;_++)a(h,y=I[_])&&!a(m,y)&&d(m,y,u(h,y));m.prototype=v,v.constructor=m,n("2aba")(i,f,m)}},c844:function(t,e,n){"use strict";var i=n("6816"),a=n.n(i);a.a},c8bb:function(t,e,n){t.exports=n("54a1")},cebc:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("268f"),a=n.n(i),o=n("e265"),s=n.n(o),c=n("a4bb"),l=n.n(c),r=n("bd86");function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=l()(n);"function"===typeof s.a&&(i=i.concat(s()(n).filter(function(t){return a()(n,t).enumerable}))),i.forEach(function(e){Object(r["a"])(t,e,n[e])})}return t}},d166:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkbox"},[n("a-checkbox-group",t._l(t.options,function(e){return n("a-row",{style:{marginBottom:"10px"}},[n("a-checkbox",{attrs:{value:e.value}},[t._v(t._s(e.label))])],1)}),1)],1)},a=[],o={name:"Checkbox",props:{config:Object},model:{prop:"config",event:"change"},data:function(){return{options:this.config.options}}},s=o,c=(n("104f"),n("2877")),l=Object(c["a"])(s,i,a,!1,null,"565a304b",null);e["a"]=l.exports},d560:function(t,e,n){},db36:function(t,e,n){},e050:function(t,e,n){"use strict";var i=n("43d8"),a=n.n(i);a.a},e265:function(t,e,n){t.exports=n("ed33")},e591:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea-input"},[n("a-textarea",{attrs:{placeholder:t.config.placeholder}})],1)},a=[],o={name:"Textarea",props:{value:Object},model:{prop:"value",event:"change"},data:function(){return{config:this.value}},watch:{config:{handler:function(t){this.$emit("change",t)},deep:!0}}},s=o,c=n("2877"),l=Object(c["a"])(s,i,a,!1,null,"4c68a4ba",null);e["a"]=l.exports},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},ebfb:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select"},[n("a-select",{ref:"select",style:{width:"100%"}},t._l(t.options,function(e){return n("a-select-option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)},a=[],o=(n("c5f6"),{name:"Select",components:{},props:{seq:Number,option:Object},model:{prop:"option",event:"change"},data:function(){return{options:this.option.options}},watch:{options:function(t){this.$emit("change",{options:t})}},methods:{}}),s=o,c=(n("c844"),n("2877")),l=Object(c["a"])(s,i,a,!1,null,"274a4d17",null);e["a"]=l.exports},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},ef8c:function(t,e,n){"use strict";var i=n("735c"),a=n.n(i);a.a},f04b:function(t,e,n){"use strict";var i=n("b072"),a=n.n(i);a.a},f081:function(t,e,n){"use strict";var i=n("39b4"),a=n.n(i);a.a},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-6150c442.07037f17.js.map